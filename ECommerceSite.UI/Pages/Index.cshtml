@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

    <div id="flow">
        <span class="flow-1"></span>
        <span class="flow-2"></span>
        <span class="flow-3"></span>
    </div>        

    <div class="section">
        <div class="box">
            <div class="field has-addons">
                <div class="control is-expanded">
                    <input class="input has-text-centered" type="search" placeholder="Find a Product">
                </div>
                <div class="control">
                    <a class="button is-info">Search</a>
                </div>
            </div>
        </div>
        <div class="columns is-multiline is-mobile">
            @{
                foreach (var p in Model.Products)
                {
                    string cssClass = "";
                    string message = "";
                    string aClass = "";

                    if (p.StockCount == 0)
                    {
                        cssClass = "is-danger";
                        message = "Out of Stock";                       
                        aClass = "cardDisabled";
                    }
                    else if (p.StockCount > 0 && p.StockCount <= 10)
                    {
                        cssClass = "is-warning";
                        message = "Low on Stock";
                        aClass = "";                       
                    }
                    <div class="column is-one-third-desktop is-4-tablet is-6-mobile">
                        <a asp-page="Product" asp-route-name="@p.Name.Replace(" ", "-")" class="@aClass">
                            <div class="card large">
                                <div class="card-image">
                                    <figure class="image">
                                        <img src="~/images/shirts.jpg" />
                                        @if (p.StockCount <= 10)
                                        {
                                            <div class="overlay @cssClass"><p class="title is-4">@message</p></div>
                                        }
                                    </figure>
                                </div>
                                <div class="card-content">
                                    <div class="media">
                                        <div class="media-content">
                                            <p class="title is-4">@p.Name</p>
                                            <p class="subtitle is-6">@p.Value</p>
                                        </div>
                                    </div>
                                    <div class="content">
                                        @p.Description
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                }
            }
        </div>
    </div>
